<?xml version="1.0" encoding="UTF-8"?>
<!-- A LIRE
Ce fichier est une copie du fichier evolution-bocage.xml et contient des commentaires afin de mieux comprendre la construction du fichier et de son code.
Ce fichier ne doit pas être modifié ni ouvert avec Mviewer Studio. Cela pourrait causer la suppression des commentaires. 


Afin de mieux comprendre le fonctionnement de Mviewer, consulter https://mviewerdoc.readthedocs.io/fr/latest/doc_tech/config_layers.html?parametres-pour-gerer-l-affichage-de-la-couche -->

<config mviewerstudioversion="3.1-snapshot">
<metadata>
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description rdf:about="http://www.ilrt.bristol.ac.uk/people/cmdjb/">
<dc:title>L'évolution du bocage sur le territoire du Parc Normandie-Maine</dc:title>
<dc:creator>anonymous</dc:creator>
<dc:publisher>anonymous</dc:publisher>
<dc:subject>Parc Normandie Maine</dc:subject>
<dc:date>2022-09-27T10:08:28.263Z</dc:date>
</rdf:Description></rdf:RDF></metadata>
<application
    title="L'évolution du bocage sur le territoire du Parc Normandie-Maine"
    logo=""    
    help="doc_evolution_bocage.html"    
    style="css/themes/pnrnm.css"    
    exportpng="false"    
    showhelp="false"    
    coordinates="false"    
    measuretools="false"    
    togglealllayersfromtheme="false"     
    fullscreen="true">
</application>

<!-- Zoom de la carte, étendue de la carte -->
<mapoptions maxzoom="20" projection="EPSG:3857" center="-9903.74898791354,6191345.088741366" zoom="8" maxextent="-149630.63669321573,6084333.249142119,129823.13871738865,6298356.928340613"/>
<!-- Extension permettant l'ajout du bouton "Plein écran" -->
<extensions><extension type="component" id="fullscreen" path="demo/addons"/></extensions> 
<!-- Barre de recherche, utilisation d'une image transparante (invisible.png) afin de cacher le marker rouge par défaut lorsqu'on clique sur la carte -->
<searchparameters banmarker="true" imgurl='img/invisible.png' imgwidth='50px' svgcolor='orange' localities="true" features="true" bbox="false" querymaponclick="true" closeafterclick="false"/>
<!-- Fond de carte -->
<baselayers style="default"> 
    <baselayer visible="true" id="positron" thumbgallery="img/basemap/positron.png" title="CartoDb" label="Positron" type="OSM" url="https://{a-c}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png" attribution="Map tiles by  &lt;a href=&quot;https://cartodb.com/attributions&quot;&gt;CartoDb&lt;/a&gt;, under  &lt;a href=&quot;https://creativecommons.org/licenses/by/3.0/&quot;&gt;CC BY 3.0 &lt;/a&gt;"  ></baselayer> 
</baselayers>
<!-- Themes correspond au panneau de couche qui peut être ouvert avec l'icône de menu hamburger -->
<themes mini="false">
    <!-- Chaque thème correspond à un groupe de couches -->
    <!-- Densité du bocage -->
    <theme id="theme-20220510132910" name="Densité du bocage" collapsed="false" icon="fas fa-layer-group">
        <!-- Couche permettant l'affichage de la densité de bocage par commune en 1945 -->
        <layer 
            id="densite_com"
            name="Année 1945"
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="true"
            style="densite_1945"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <!-- ID correspond à l'ID dans GeoServer de la couche souhaitée. Visible indique si la couche est active au démarrage de la carte.
            Name correspond au nom à afficher comme nom de couche notamment dans la légende, la barre de recherche et la barre latérale.
            Queryable indique si la couche est interrogeable (ouvre la fiche d'information de l'entité).
            Inforformat indique le type d'information à afficher dans la barre latérale.
            Style correspond au styele SLD de GeoServer a appliquer sur la couche. 
            Exclusive indique si la couche est exclusive. Si la valeur est « true », l’affichage de cette couche masquera automatiquement toutes les autres couches ayant ce paramètre activé. -->
            <template url="templates/evolution-bocage/densite-1945.mst"></template>
            <!-- Template correspond au fichier Mustach.js qui correspond au contenu à afficher dans la barre latérale (fiche d'information) lors d'un clic sur une entité -->
        </layer> 
        <!-- Couche permettant l'affichage de la densité de bocage par commune en 2000 -->
        <layer 
            id="densite_com"
            name="Année 2000"
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="densite_2000"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/densite-2000.mst"></template>
        </layer> 
        <!-- Couche permettant l'affichage de la densité de bocage par commune en 2010 -->
        <layer 
            id="densite_com"
            name="Année 2010"
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="densite_2010"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/densite-2010.mst"></template>
        </layer> 
        <!-- Couche permettant l'affichage de la densité de bocage par commune en 2020 -->
        <layer 
            id="densite_com"
            name="A venir -- Année 2020"
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="densite_2010"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/densite-2020.mst"></template>
        </layer> 


    </theme> 
    <!-- Evolution du bocage -->
    <theme id="theme-20220510132911" name="Evolution du bocage" collapsed="true" icon="fas fa-layer-group">
        <!-- Couche permettant l'affichage de l'évolution du bocage par commune entre 1945 et 2000 -->
        <layer 
            id="evolution_com" 
            name="Entre 1945 et 2000" 
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="evolution_1945_2000"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/evolution-1945-2000.mst"></template>
        </layer>
        <!-- Couche permettant l'affichage de l'évolution du bocage par commune entre 2000 et 2010 -->
        <layer 
            id="evolution_com" 
            name="Entre 2000 et 2010" 
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="evolution_2000_2010"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/evolution-2000-2010.mst"></template>
        </layer>
        <!-- Couche permettant l'affichage de l'évolution du bocage par commune entre 2010 et 2020 -->
        <layer 
            id="evolution_com" 
            name="A venir -- Entre 2010 et 2020" 
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="evolution_1945_2010"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/evolution-2010-2020.mst"></template>
        </layer>
        <!-- Couche permettant l'affichage de l'évolution du bocage par commune entre 1945 et 2020 -->
        <layer 
            id="evolution_com" 
            name="A venir -- Entre 1945 et 2020" 
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="evolution_1945_2010"
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/evolution-1945-2020.mst"></template>
        </layer>
    </theme>    
    <!--Plantation de haies  -->
    <theme id="theme-20220510132912" name="Plantation de haies" collapsed="true" icon="fas fa-layer-group"> 
        <!-- Couche permettant l'affichage de la couche plantation de haies par commune -->
        <layer 
            id="densite_com"
            name="Haies plantées par le Parc depuis 2008"
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="false"
            style="plantation_haies"
            legendurl="img/legend/legende_plantation_haies.png"  
            infoformat="application/vnd.ogc.gml"
            queryable="true"
            exclusive="true">
            <template url="templates/evolution-bocage/plantation-haies.mst"></template>
        </layer> 
    </theme>
    <!-- Référentiel -->
    <!-- Thème non affiché dans le panneau de couches grâce à son ID qui commence par "hideme" -->
    <theme id="hideme-20220510132912" name="Référentiel" collapsed="true" icon="fas fa-layer-group"> 
        <!-- Couche permettant l'affichage des noms des communes et de l'affichage du contour rouge sur la commune 
        lors du survol de la souris (hover) de l'utilisateur ainsi que la recherche des noms des communes dans la barre de recherche. -->
        <layer 
            id="invisible_hover"
            name="Communes du Parc"
            type="customlayer"     
            url="customlayers/invisible_hover.js"      
            visible="true"
            tooltip="true"
            fields="nom"
            aliases="Nom commune"
            tooltipenabled="true"
            tooltipcontent=""
            infoformat="application/vnd.ogc.gml"
            queryable="false"
            exclusive="false"
            showintoc="false"
            searchable="true"
            searchengine="fuse"
            fusesearchkeys="nom"
            fusesearchresult="{{nom}}">            
        </layer> 
        <!-- tooltip, fields, aliases, tooltipenabled et tooltipcontent permettent le hover, showintoc permet de ne pas afficher la couche dans la légence,
        searchable, searchengine, fusesearchkeys et fusesearchresult permettent la recherche des entités avec la librairie Fuse.js dans la barre de recherche. Name est affiché dans
        la barre de recherche lors de l'affichage de résultats. 
        Fusesearchresult indique ce qui doit être affiché dans la barre de recherche lorsque l'utilisateur commence à entrer du texte. -->
        <!-- Couche permettant l'affichage du périmètre du Parc -->
        <layer 
            id="perimetre"
            name="Périmètre du Parc"
            type="wms"
            url="https://observatoire.parc-naturel-normandie-maine.fr/geoserver/carteetdonnees/ows?"
            visible="true"
            style="perimetre"
            infoformat="text/html"
            queryable="false"
            toplayer="true">
        </layer> 
    </theme>
</themes>
</config>